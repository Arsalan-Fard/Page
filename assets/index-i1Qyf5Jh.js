(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const D=[{title:"Lecture and Project",meta:"Main Track",body:"The project subject is Locomotion. You can see presentations, demos and final project in this path.",tags:["projects","main"],isProjects:!0,slug:"main-track"},{title:"Lab Assignments",meta:"Lab Track",body:"This path shows lab assignments. You can see unity projects about a ball in Telecom paris!",tags:["lab","assignments"],isLabAssignments:!0,slug:"lab-track"},{title:"Tutorials",meta:"Tutorial Track",body:"Learn how to setup a blog like this. And also how to setup Unity 6 for your VR projects.",tags:["Tutorial","theory"],isTutorialAssignments:!0,slug:"tutorial-track"},{title:"Lab 01: Roll a Ball",meta:"2025.12.25",body:"--",tags:["--"],isLabRoute:!0,slug:"lab-01",image:"/unity_setup/1.png"},{title:"Lab 02: The VR Ball",meta:"2025.12.25",body:"--",tags:["--"],isLabRoute:!0,slug:"lab-02",image:"/unity_setup/2.png"},{title:"Tutorial 01: Blog Setup",meta:"2025.12.18",body:"This section provides you quick tips about how this blog is created and deployed on github.",tags:["Sass","Vite","GitHub Pages"],isTutorialRoute:!0,slug:"tutorial-01",image:"images/blog_image.jpg"},{title:"Tutorial 02: Unity Setup",meta:"2025.12.20",body:"This section provides you quick tips about how to setup Unity 6.",tags:["Unity 6","Microsoft Visual Studio"],isTutorialRoute:!0,slug:"tutorial-02",image:"images/unity_setup_image.jpg"},{title:"Lecture 01: Three Locomotion Techniques",meta:"2025.12.08",body:"This post presents three different locomotion techniques in VR.",tags:["Presentation","Locomotion","MR"],isProjectRoute:!0,slug:"lecture-01",slides:"slides",image:"/images/blog_image.jpg"},{title:"Lecture 02: Proposing our Locomotion Technique",meta:"-",body:"...",tags:["Presentation","Locomotion","MR"],isProjectRoute:!0,slug:"lecture-02",image:"/images/unity_setup_image.jpg"},{title:"Project 01: ...",meta:"-",body:"...",tags:["Presentation","Locomotion","MR"],isProjectRoute:!0,slug:"project-01",image:"/images/VR_fail_image.jpg"}],C=2300,ut=220,pt=140,ie=D.reduce((t,e,r)=>(r<=2||(e.isLabRoute?t.lab+=1:e.isTutorialRoute?t.tutorial+=1:t.project+=1),t),{lab:0,tutorial:0,project:0}),Re=C*Math.cos(Math.PI/4),dt=Math.max(ie.project*C,ie.lab*Re,ie.tutorial*Re),ce=dt,A=5400;function gt(t){const e=document.getElementById("posts"),r=document.getElementById("voxel-field"),s=[];let n={minX:0,maxX:0,minZ:-ce,maxZ:A},l=0,i=0,c=0;D.forEach((h,o)=>{const u=document.createElement("article");u.className="post-frame";let p,g,m,y=0,w=0,k=0;o===0?(p=0,g=0,m=0,u.classList.add("intersection-frame","project-assignments"),k=0):o===1?(p=200,g=450,m=0,y=-45,u.classList.add("lab-assignments","intersection-frame"),w=0,k=0):o===2?(p=200,g=-450,m=0,y=45,u.classList.add("Tutorial-assignments","intersection-frame"),w=0,k=0):h.isLabRoute?(l++,p=-l*C*Math.cos(Math.PI/4),g=600+l*C*Math.sin(Math.PI/4),m=0,y=-45,u.classList.add("lab-assignments"),w=g,k=p):h.isTutorialRoute?(i++,p=-i*C*Math.cos(Math.PI/4),g=-600-i*C*Math.sin(Math.PI/4),m=0,y=45,u.classList.add("Tutorial-assignments"),w=g,k=p):(c++,p=-c*C,g=(Math.random()*2-1)*ut,m=(Math.random()*2-1)*pt,w=0,k=p),s.push({x:w,z:k,type:o<=2?"node":"post",originalIndex:o});const L=Math.abs(w);n.maxX=Math.max(n.maxX,L),n.minZ=Math.min(n.minZ,k),u.style.setProperty("--x",`${g}px`),u.style.setProperty("--y",`${m}px`),u.style.setProperty("--z",`${p}px`),u.style.setProperty("--rotateY",`${y}deg`),u.dataset.z=p;const I=o<=2;u.innerHTML=`
                ${o===0?'<div id="intersection-hint-3d"><span id="typed-text-3d"></span></div>':""}
                ${h.image?`<img src="${h.image}" class="post-hover-image" alt="" />`:""}
                <div class="frame-inner">
                    <h2 class="frame-title">${h.title}</h2>
                    <div class="frame-meta">${h.meta}</div>
                    <p class="frame-body">${h.body}</p>
                    ${I?"":`<div class="frame-tags">
                        ${h.tags.map(S=>`<span class="frame-tag">${S}</span>`).join("")}
                    </div>`}
                </div>
            `,h.isProjects?(u.addEventListener("click",()=>t(0,0)),u.style.pointerEvents="auto"):h.isLabAssignments?(u.addEventListener("click",()=>t(45,350)),u.style.pointerEvents="auto"):h.isTutorialAssignments?(u.addEventListener("click",()=>t(-45,-350)),u.style.pointerEvents="auto"):(u.addEventListener("click",S=>{S.stopPropagation(),h.slug&&(window.location.hash=h.slug)}),u.style.pointerEvents="auto"),e.appendChild(u)});const a=s.filter(h=>h.x===0);a.length>0&&(n.minZ=Math.min(...a.map(h=>h.z)));for(let h=0;h<160;h+=1){const o=document.createElement("span");o.className="voxel";const u=(Math.random()*2-1)*1200,p=(Math.random()*2-1)*800,g=-Math.random()*(ce+3e3);o.style.transform=`translate3d(${u}px, ${p}px, ${g}px)`,o.style.animationDelay=`${Math.random()*2}s`,r.appendChild(o)}return{mapPoints:s,mapBounds:n}}function $e(t,e,r,s,n,l,i,c){if(!t||!e)return;t.clearRect(0,0,e.width,e.height);const a=40,h=e.width-a*2,o=e.height-a*2,u=s.maxZ-s.minZ,p=Math.max(s.maxX*2,2e3),g=o/u,m=h/p,y=Math.min(g,m);function w(b){const z=s.maxZ-b;return e.height-a-z*y}function k(b){return e.width/2+b*y}t.beginPath(),t.strokeStyle="rgba(0, 240, 255, 0.2)",t.lineWidth=3,t.moveTo(k(0),w(s.maxZ)),t.lineTo(k(0),w(s.minZ)),t.stroke();const L=r.filter(b=>n[b.originalIndex].isLabRoute);L.length>0&&(L.sort((b,z)=>z.z-b.z),t.beginPath(),t.moveTo(k(0),w(0)),L.forEach(b=>{t.lineTo(k(b.x),w(b.z))}),t.strokeStyle="rgba(0, 240, 255, 0.2)",t.stroke());const I=r.filter(b=>n[b.originalIndex].isTutorialRoute);I.length>0&&(I.sort((b,z)=>z.z-b.z),t.beginPath(),t.moveTo(k(0),w(0)),I.forEach(b=>{t.lineTo(k(b.x),w(b.z))}),t.strokeStyle="rgba(0, 240, 255, 0.2)",t.stroke()),r.forEach((b,z)=>{if(b.originalIndex===1||b.originalIndex===2)return;const ct=k(b.x),ht=w(b.z);t.beginPath(),t.arc(ct,ht,b.type==="node"?3:5,0,Math.PI*2);let Se="rgba(143, 176, 196, 0.5)";b.type==="node"&&(Se="#00f0ff"),t.fillStyle=Se,t.fill()});const S=-c*Math.PI/180,P=-l,it=P*Math.cos(S),lt=i+P*Math.sin(S),at=k(lt),ot=w(it);t.beginPath(),t.arc(at,ot,4,0,Math.PI*2),t.fillStyle="#ffffff",t.shadowBlur=8,t.shadowColor="#ff4f7b",t.fill(),t.shadowBlur=0;const Te=k(0),_e=w(A);t.beginPath(),t.moveTo(Te-45,_e),t.lineTo(Te+45,_e),t.strokeStyle="rgba(255,255,255,0.3)",t.lineWidth=1,t.stroke()}function E(t,e,r){return Math.min(Math.max(t,e),r)}function mt(t){return 1-Math.pow(1-t,3)}let le=!1;function ft(t,e,r=50,s){if(le)return;le=!0;let n=0;e.textContent="",e.classList.remove("typing-complete");function l(){n<t.length?(e.textContent+=t.charAt(n),n++,setTimeout(l,r)):(le=!1,e.classList.add("typing-complete"))}l()}function bt(){if(typeof PowerGlitch<"u"){const{startGlitch:t,stopGlitch:e}=PowerGlitch.glitch(document.body,{playMode:"manual",createContainers:!1,hideOverflow:!0,timing:{duration:500,iterations:1},glitchTimeDivisor:1,shake:{velocity:20,amplitude:.1},slice:{count:15,velocity:20,minHeight:.02,maxHeight:.15,hueRotate:!0},pulse:!1});t(),setTimeout(e,600)}}const kt=`In this section we create a game called "Roll a Ball" based on the official Unity tutorial "https://learn.unity.com/project/roll-a-ball".\r
\r
![Game Environment](rollaball/1.png "Game Environment")\r
\r
The theme is "Telecom Paris master student." As the player, we control a ball and collect 12 courses, each worth 5 ECTS. After collecting a course, an hourglass appears near the ball and follows the player. Each hourglass lasts for 60 seconds. In total, the player has 365 seconds to collect all courses. There is also a health bar in the canteen that gives the player one extra chance to get hit by deadlines.\r
\r
![Gameplay](rollaball/gameplay.gif "Gameplay")\r
\r
Below are the implemented features.\r
\r
## 1. Ball Design\r
\r
The ball is an .stl model converted to .fbx in Blender. It has a light inside that increases in intensity as the ECTS value increases.\r
\r
![Ball light comparison](rollaball/2.png "Ball light comparison")\r
\r
## 2. Environment Design\r
\r
While the main design is implemented manually, most objects are free assets from the Unity Asset Store.\r
\r
## 3. Ball Movement\r
\r
The ball movement in this project is more advanced than in the tutorial. We can freely move the camera, we defined acceleration for smoother movement, and we added a jump mechanic. The code for this part is below.\r
\r
\`\`\`csharp\r
private void FixedUpdate()\r
{\r
    Vector3 movementDirection = Vector3.zero;\r
\r
    if (cameraTransform != null)\r
    {\r
        Vector3 camForward = cameraTransform.forward;\r
        Vector3 camRight = cameraTransform.right;\r
\r
        camForward.y = 0;\r
        camRight.y = 0;\r
        camForward.Normalize();\r
        camRight.Normalize();\r
\r
        movementDirection = (camForward * movementY + camRight * movementX).normalized;\r
    }\r
    else\r
    {\r
        movementDirection = new Vector3(movementX, 0.0f, movementY);\r
    }\r
\r
    rb.AddForce(movementDirection * acceleration, ForceMode.Acceleration);\r
\r
    Vector3 horizontalVelocity = new Vector3(rb.linearVelocity.x, 0f, rb.linearVelocity.z);\r
    if (horizontalVelocity.magnitude > maxSpeed)\r
    {\r
        Vector3 limited = horizontalVelocity.normalized * maxSpeed;\r
        rb.linearVelocity = new Vector3(limited.x, rb.linearVelocity.y, limited.z);\r
    }\r
}\r
\r
void OnJump(InputValue movementValue)\r
{\r
    // Specific check for ball shape.\r
    if (Physics.Raycast(transform.position, Vector3.down, GetComponent<Collider>().bounds.extents.y + 0.1f))\r
    {\r
        rb.AddForce(Vector3.up * jumpForce, ForceMode.Impulse);\r
    }\r
}\r
\`\`\`\r
\r
## 4. Player Health Bar\r
\r
The player health bar is a simple "hearts" UI on a Canvas. The player only has one health in the list at the start of the game. The health value is stored on the player in PlayerController as playerHealth. It is initialized in Start() and pushed to the UI via healthUI.SetHealth(playerHealth). When the player takes damage by colliding with an object tagged "Deadline," it decrements playerHealth, updates the hearts, and destroys that deadline object. When the player heals by entering a trigger tagged "Cantine," it increments playerHealth, updates the hearts, and destroys the pickup. The UI always shows the current integer health value.\r
\r
![Player Healthbar](rollaball/5.png "Player Healthbar")\r
\r
## 5. AI Movement\r
\r
The hourglass movement follows the tutorial. We define a NavMesh for the environment and assign the hourglasses as NavMesh agents to follow the player. Then we define collision with the player so that, on contact, the player loses a heart. We do this by defining a tag called "Deadline" and assigning it to the hourglasses:\r
\r
\`\`\`csharp\r
if (collision.gameObject.CompareTag("Deadline"))\r
{\r
    if (playerHealth <= 0)\r
    {\r
        LoseGame();\r
    }\r
    else\r
    {\r
        playerHealth -= 1;\r
        healthUI.SetHealth(playerHealth);\r
\r
        Destroy(collision.gameObject);\r
    }\r
}\r
\`\`\`\r
\r
![Nav Mesh](rollaball/6.png "Nav Mesh")\r
\r
\r
## 6. Deadlines Appearance and Perish\r
\r
![Enemy Spawn](rollaball/3.png "Enemy Spawn")\r
\r
When we collect a collectible (ECTS), we call ActivateEnemy() to activate or enable the hourglass. It already has a predefined location, so spawning only requires activating visibility.\r
\r
\`\`\`csharp\r
private void OnTriggerEnter(Collider other)\r
{\r
    if (other.CompareTag("Player"))\r
    {\r
        PlayerController player = other.GetComponentInParent<PlayerController>();\r
        if (player != null)\r
        {\r
            player.AddEcts(5);\r
        }\r
\r
        ActivateEnemy();\r
    }\r
}\r
\r
void ActivateEnemy()\r
{\r
    if (linkedEnemy != null)\r
    {\r
        if (linkedEnemy.transform.IsChildOf(transform))\r
        {\r
            linkedEnemy.transform.SetParent(null, true);\r
        }\r
\r
        linkedEnemy.SetActive(true);\r
    }\r
\r
    Destroy(gameObject);\r
}\r
\`\`\`\r
\r
For despawning, we define a 60-second lifetime after which they are destroyed.\r
\r
\`\`\`csharp\r
private IEnumerator DespawnAfterLifetime()\r
{\r
    yield return new WaitForSeconds(lifetimeSeconds);\r
\r
    if (despawnParticles != null)\r
    {\r
        despawnParticles.transform.SetParent(null, true);\r
        despawnParticles.Play();\r
        Destroy(despawnParticles.gameObject, despawnDelay);\r
    }\r
\r
    Destroy(gameObject);\r
}\r
\`\`\`\r
\r
## 7. Win Mechanism\r
\r
When the player triggers an ECTS collectible, it calls player.AddEcts(5) on PlayerController, which increments the private ECTS counter and updates the UI text. In PlayerController.cs, AddEcts checks if (ECTS >= 60) and, once that threshold is reached, it shows the graduation UI, pauses gameplay by setting Time.timeScale = 0f, and destroys a Deadline object via Destroy(GameObject.FindGameObjectWithTag("Deadline")).\r
\r
![Enemy Spawn](rollaball/4.png "Enemy Spawn")\r
`,yt="",wt=`Content for Lecture 1: VR Fails will go here.

`,xt=`Content for Final Project: Locomotion will go here.

`,vt=`This section provides you quick tips about how this blog is created and deployed on github.


## 1. Requirements

This blog is strongly inspired by "https://codepen.io/Vedant-Jain-the-bold/pen/dywQPLz".

To build this blog, we selected a lightweight but powerful stack (we need node js for these):

### **SCSS (Sass)**
We use **SCSS** for styling.
*   **Why?** The 3D environment in this blog is actually built using **CSS 3D Transforms**, not WebGL or Three.js! SCSS allows us to use variables and math functions to easily manage the complex \`transform\` and \`perspective\` properties. And also allows us to use cool projects from codepen.


### **Vite**
We use **Vite** as our build tool and development server. 
*   **Why?** It is incredibly fast and bundles our assets efficiently to make sure the moving around this 3d environment is smooth.


### **JavaScript (ES Modules)**
We use vanilla **JavaScript**.
*   **Why?** Since we are manipulating DOM elements for the 3D effect, we don't need the overhead of a heavy framework like React or Angular. We use modern ES Modules to keep our code organized (e.g., separating \`camera.js\`, \`map.js\`, and \`data.js\`).

### **Marked**
We use the **marked** library.
*   **Why?** This allows us to write blog posts in **Markdown** (like this one!) and have them automatically converted to HTML. This separates our content from our code.

## 2. Development

The core concept of this blog is a "CSS 3D Scroller".

1.  **The Scene**: We create a \`div\` with \`perspective: 1000px\`.
2.  **The World**: We place a "world" container inside and move it along the Z-axis based on the user's scroll.
3.  **The Objects**: Posts are HTML elements positioned absolutely using \`transform: translate3d(...)\`.

This approach gives us a 3D feeling while keeping the text selectable and the performance high on standard browsers.

## 3. Deployment

We use **GitHub Pages** for hosting.


*   **Process**: We use the \`gh-pages\` package. You can follow the instructions in image below to set it up.

![Blog Setup 1](blog_setup/github.png)

*   **Command**: Running "\`npm run deploy\`" builds the project (using Vite) into a \`dist\` folder and pushes that folder to a special branch on GitHub,.
`,Tt=`In this tutorial, we will walk through the process of setting up the Unity game engine and Visual Studio Code.

## 1. Install Unity Hub

First, download and install Unity Hub from the official Unity website. Unity Hub is the management tool for all your Unity projects and editor versions.

   ![Unity Hub Installation Interface](unity_setup/1.png "Unity Hub Installation")

## 2. Install Visual Studio Code

We use Visual Studio Code as our code editor. Download it and ensure you install the "C# Dev Kit" or "C#" extension to enable IntelliSense and debugging features.

   ![Visual Studio Code Setup](unity_setup/2.png "VS Code Setup")

## 3. Create a New Project

Open Unity Hub, navigate to the "Projects" tab, and click "New Project". Select the "3D Core" template to start with a clean 3D environment.

   ![Creating a new 3D Project in Unity Hub](unity_setup/3.png "New Project Selection")

## 4. Project Configuration

Name your project (e.g., \`MR Locomotion\`) and choose a location on your drive. Click "Create Project" and wait for the Unity Editor to initialize.

   ![Project Configuration and Initialization](unity_setup/4.png "Project Initialization")

`,_t="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0001-CNbOZYwj.jpg",St="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0002-D2vt3aam.jpg",Rt="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0003-B1u9fDkT.jpg",$t="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0004-D0F5OmPM.jpg",Lt="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0005-CXlBEBWa.jpg",Pt="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0006-boxv9pJ9.jpg",Et="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0007-OWwrmmsL.jpg",At="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0008-CE8G5-66.jpg",It="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0009-CqCl0Arw.jpg",zt="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0010-_ruUiPZb.jpg",Ct="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0011-COKYK1X7.jpg",jt="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0012-B0O9kVnW.jpg",Mt="/Soheil-Arsalan_MR/assets/Locomotion%20Techniques2_page-0013-D8Mq2Vz1.jpg";function ge(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var q=ge();function He(t){q=t}var U={exec:()=>null};function d(t,e=""){let r=typeof t=="string"?t:t.source,s={replace:(n,l)=>{let i=typeof l=="string"?l:l.source;return i=i.replace(x.caret,"$1"),r=r.replace(n,i),s},getRegex:()=>new RegExp(r,e)};return s}var qt=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),x={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Bt=/^(?:[ \t]*(?:\n|$))+/,Dt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ot=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,X=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ht=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,me=/(?:[*+-]|\d{1,9}[.)])/,Ze=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,We=d(Ze).replace(/bull/g,me).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Zt=d(Ze).replace(/bull/g,me).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),fe=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Wt=/^[^\n]+/,be=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Vt=d(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",be).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ft=d(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,me).getRegex(),re="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ke=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Nt=d("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ke).replace("tag",re).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ve=d(fe).replace("hr",X).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re).getRegex(),Ut=d(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ve).getRegex(),ye={blockquote:Ut,code:Dt,def:Vt,fences:Ot,heading:Ht,hr:X,html:Nt,lheading:We,list:Ft,newline:Bt,paragraph:Ve,table:U,text:Wt},Le=d("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",X).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re).getRegex(),Gt={...ye,lheading:Zt,table:Le,paragraph:d(fe).replace("hr",X).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Le).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re).getRegex()},Xt={...ye,html:d(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ke).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:d(fe).replace("hr",X).replace("heading",` *#{1,6} *[^
]`).replace("lheading",We).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Yt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Qt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Fe=/^( {2,}|\\)\n(?!\s*$)/,Kt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,se=/[\p{P}\p{S}]/u,we=/[\s\p{P}\p{S}]/u,Ne=/[^\s\p{P}\p{S}]/u,Jt=d(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,we).getRegex(),Ue=/(?!~)[\p{P}\p{S}]/u,en=/(?!~)[\s\p{P}\p{S}]/u,tn=/(?:[^\s\p{P}\p{S}]|~)/u,nn=d(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",qt?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ge=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,rn=d(Ge,"u").replace(/punct/g,se).getRegex(),sn=d(Ge,"u").replace(/punct/g,Ue).getRegex(),Xe="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ln=d(Xe,"gu").replace(/notPunctSpace/g,Ne).replace(/punctSpace/g,we).replace(/punct/g,se).getRegex(),an=d(Xe,"gu").replace(/notPunctSpace/g,tn).replace(/punctSpace/g,en).replace(/punct/g,Ue).getRegex(),on=d("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Ne).replace(/punctSpace/g,we).replace(/punct/g,se).getRegex(),cn=d(/\\(punct)/,"gu").replace(/punct/g,se).getRegex(),hn=d(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),un=d(ke).replace("(?:-->|$)","-->").getRegex(),pn=d("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",un).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ee=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,dn=d(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ee).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ye=d(/^!?\[(label)\]\[(ref)\]/).replace("label",ee).replace("ref",be).getRegex(),Qe=d(/^!?\[(ref)\](?:\[\])?/).replace("ref",be).getRegex(),gn=d("reflink|nolink(?!\\()","g").replace("reflink",Ye).replace("nolink",Qe).getRegex(),Pe=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,xe={_backpedal:U,anyPunctuation:cn,autolink:hn,blockSkip:nn,br:Fe,code:Qt,del:U,emStrongLDelim:rn,emStrongRDelimAst:ln,emStrongRDelimUnd:on,escape:Yt,link:dn,nolink:Qe,punctuation:Jt,reflink:Ye,reflinkSearch:gn,tag:pn,text:Kt,url:U},mn={...xe,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",ee).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ee).getRegex()},he={...xe,emStrongRDelimAst:an,emStrongLDelim:sn,url:d(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Pe).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:d(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Pe).getRegex()},fn={...he,br:d(Fe).replace("{2,}","*").getRegex(),text:d(he.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Y={normal:ye,gfm:Gt,pedantic:Xt},H={normal:xe,gfm:he,breaks:fn,pedantic:mn},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ee=t=>bn[t];function $(t,e){if(e){if(x.escapeTest.test(t))return t.replace(x.escapeReplace,Ee)}else if(x.escapeTestNoEncode.test(t))return t.replace(x.escapeReplaceNoEncode,Ee);return t}function Ae(t){try{t=encodeURI(t).replace(x.percentDecode,"%")}catch{return null}return t}function Ie(t,e){let r=t.replace(x.findPipe,(l,i,c)=>{let a=!1,h=i;for(;--h>=0&&c[h]==="\\";)a=!a;return a?"|":" |"}),s=r.split(x.splitPipe),n=0;if(s[0].trim()||s.shift(),s.length>0&&!s.at(-1)?.trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;n<s.length;n++)s[n]=s[n].trim().replace(x.slashPipe,"|");return s}function Z(t,e,r){let s=t.length;if(s===0)return"";let n=0;for(;n<s&&t.charAt(s-n-1)===e;)n++;return t.slice(0,s-n)}function kn(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])r++;else if(t[s]===e[1]&&(r--,r<0))return s;return r>0?-2:-1}function ze(t,e,r,s,n){let l=e.href,i=e.title||null,c=t[1].replace(n.other.outputLinkReplace,"$1");s.state.inLink=!0;let a={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:l,title:i,text:c,tokens:s.inlineTokens(c)};return s.state.inLink=!1,a}function yn(t,e,r){let s=t.match(r.other.indentCodeCompensation);if(s===null)return e;let n=s[1];return e.split(`
`).map(l=>{let i=l.match(r.other.beginningSpace);if(i===null)return l;let[c]=i;return c.length>=n.length?l.slice(n.length):l}).join(`
`)}var te=class{options;rules;lexer;constructor(t){this.options=t||q}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Z(r,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let r=e[0],s=yn(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let s=Z(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Z(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let r=Z(e[0],`
`).split(`
`),s="",n="",l=[];for(;r.length>0;){let i=!1,c=[],a;for(a=0;a<r.length;a++)if(this.rules.other.blockquoteStart.test(r[a]))c.push(r[a]),i=!0;else if(!i)c.push(r[a]);else break;r=r.slice(a);let h=c.join(`
`),o=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${h}`:h,n=n?`${n}
${o}`:o;let u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(o,l,!0),this.lexer.state.top=u,r.length===0)break;let p=l.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){let g=p,m=g.raw+`
`+r.join(`
`),y=this.blockquote(m);l[l.length-1]=y,s=s.substring(0,s.length-g.raw.length)+y.raw,n=n.substring(0,n.length-g.text.length)+y.text;break}else if(p?.type==="list"){let g=p,m=g.raw+`
`+r.join(`
`),y=this.list(m);l[l.length-1]=y,s=s.substring(0,s.length-p.raw.length)+y.raw,n=n.substring(0,n.length-g.raw.length)+y.raw,r=m.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:l,text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim(),s=r.length>1,n={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");let l=this.rules.other.listItemRegex(r),i=!1;for(;t;){let a=!1,h="",o="";if(!(e=l.exec(t))||this.rules.block.hr.test(t))break;h=e[0],t=t.substring(h.length);let u=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,y=>" ".repeat(3*y.length)),p=t.split(`
`,1)[0],g=!u.trim(),m=0;if(this.options.pedantic?(m=2,o=u.trimStart()):g?m=e[1].length+1:(m=e[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,o=u.slice(m),m+=e[1].length),g&&this.rules.other.blankLine.test(p)&&(h+=p+`
`,t=t.substring(p.length+1),a=!0),!a){let y=this.rules.other.nextBulletRegex(m),w=this.rules.other.hrRegex(m),k=this.rules.other.fencesBeginRegex(m),L=this.rules.other.headingBeginRegex(m),I=this.rules.other.htmlBeginRegex(m);for(;t;){let S=t.split(`
`,1)[0],P;if(p=S,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),P=p):P=p.replace(this.rules.other.tabCharGlobal,"    "),k.test(p)||L.test(p)||I.test(p)||y.test(p)||w.test(p))break;if(P.search(this.rules.other.nonSpaceChar)>=m||!p.trim())o+=`
`+P.slice(m);else{if(g||u.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(u)||L.test(u)||w.test(u))break;o+=`
`+p}!g&&!p.trim()&&(g=!0),h+=S+`
`,t=t.substring(S.length+1),u=P.slice(m)}}n.loose||(i?n.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(i=!0)),n.items.push({type:"list_item",raw:h,task:!!this.options.gfm&&this.rules.other.listIsTask.test(o),loose:!1,text:o,tokens:[]}),n.raw+=h}let c=n.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let a of n.items){if(this.lexer.state.top=!1,a.tokens=this.lexer.blockTokens(a.text,[]),a.task){if(a.text=a.text.replace(this.rules.other.listReplaceTask,""),a.tokens[0]?.type==="text"||a.tokens[0]?.type==="paragraph"){a.tokens[0].raw=a.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),a.tokens[0].text=a.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let o=this.lexer.inlineQueue.length-1;o>=0;o--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[o].src)){this.lexer.inlineQueue[o].src=this.lexer.inlineQueue[o].src.replace(this.rules.other.listReplaceTask,"");break}}let h=this.rules.other.listTaskCheckbox.exec(a.raw);if(h){let o={type:"checkbox",raw:h[0]+" ",checked:h[0]!=="[ ]"};a.checked=o.checked,n.loose?a.tokens[0]&&["paragraph","text"].includes(a.tokens[0].type)&&"tokens"in a.tokens[0]&&a.tokens[0].tokens?(a.tokens[0].raw=o.raw+a.tokens[0].raw,a.tokens[0].text=o.raw+a.tokens[0].text,a.tokens[0].tokens.unshift(o)):a.tokens.unshift({type:"paragraph",raw:o.raw,text:o.raw,tokens:[o]}):a.tokens.unshift(o)}}if(!n.loose){let h=a.tokens.filter(u=>u.type==="space"),o=h.length>0&&h.some(u=>this.rules.other.anyLine.test(u.raw));n.loose=o}}if(n.loose)for(let a of n.items){a.loose=!0;for(let h of a.tokens)h.type==="text"&&(h.type="paragraph")}return n}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:s,title:n}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let r=Ie(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===s.length){for(let i of s)this.rules.other.tableAlignRight.test(i)?l.align.push("right"):this.rules.other.tableAlignCenter.test(i)?l.align.push("center"):this.rules.other.tableAlignLeft.test(i)?l.align.push("left"):l.align.push(null);for(let i=0;i<r.length;i++)l.header.push({text:r[i],tokens:this.lexer.inline(r[i]),header:!0,align:l.align[i]});for(let i of n)l.rows.push(Ie(i,l.header.length).map((c,a)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:l.align[a]})));return l}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let l=Z(r.slice(0,-1),"\\");if((r.length-l.length)%2===0)return}else{let l=kn(e[2],"()");if(l===-2)return;if(l>-1){let i=(e[0].indexOf("!")===0?5:4)+e[1].length+l;e[2]=e[2].substring(0,l),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let s=e[2],n="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(s);l&&(s=l[1],n=l[3])}else n=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),ze(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=e[s.toLowerCase()];if(!n){let l=r[0].charAt(0);return{type:"text",raw:l,text:l}}return ze(r,n,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let s=this.rules.inline.emStrongLDelim.exec(t);if(!(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!r||this.rules.inline.punctuation.exec(r))){let n=[...s[0]].length-1,l,i,c=n,a=0,h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+n);(s=h.exec(e))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(i=[...l].length,s[3]||s[4]){c+=i;continue}else if((s[5]||s[6])&&n%3&&!((n+i)%3)){a+=i;continue}if(c-=i,c>0)continue;i=Math.min(i,i+c+a);let o=[...s[0]][0].length,u=t.slice(0,n+s.index+o+i);if(Math.min(n,i)%2){let g=u.slice(1,-1);return{type:"em",raw:u,text:g,tokens:this.lexer.inlineTokens(g)}}let p=u.slice(2,-2);return{type:"strong",raw:u,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(r),n=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&n&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let r,s;return e[2]==="@"?(r=e[1],s="mailto:"+r):(r=e[1],s=r),{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let r,s;if(e[2]==="@")r=e[0],s="mailto:"+r;else{let n;do n=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(n!==e[0]);r=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},T=class ue{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||q,this.options.tokenizer=this.options.tokenizer||new te,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:x,block:Y.normal,inline:H.normal};this.options.pedantic?(r.block=Y.pedantic,r.inline=H.pedantic):this.options.gfm&&(r.block=Y.gfm,this.options.breaks?r.inline=H.breaks:r.inline=H.gfm),this.tokenizer.rules=r}static get rules(){return{block:Y,inline:H}}static lex(e,r){return new ue(r).lex(e)}static lexInline(e,r){return new ue(r).inlineTokens(e)}lex(e){e=e.replace(x.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let s=this.inlineQueue[r];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],s=!1){for(this.options.pedantic&&(e=e.replace(x.tabCharGlobal,"    ").replace(x.spaceLine,""));e;){let n;if(this.options.extensions?.block?.some(i=>(n=i.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);let i=r.at(-1);n.raw.length===1&&i!==void 0?i.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);let i=r.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+n.raw,i.text+=`
`+n.text,this.inlineQueue.at(-1).src=i.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);let i=r.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+n.raw,i.text+=`
`+n.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title},r.push(n));continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}let l=e;if(this.options.extensions?.startBlock){let i=1/0,c=e.slice(1),a;this.options.extensions.startBlock.forEach(h=>{a=h.call({lexer:this},c),typeof a=="number"&&a>=0&&(i=Math.min(i,a))}),i<1/0&&i>=0&&(l=e.substring(0,i+1))}if(this.state.top&&(n=this.tokenizer.paragraph(l))){let i=r.at(-1);s&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):r.push(n),s=l.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);let i=r.at(-1);i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):r.push(n);continue}if(e){let i="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let s=e,n=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)a.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,n.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let l;for(;(n=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)l=n[2]?n[2].length:0,s=s.slice(0,n.index+l)+"["+"a".repeat(n[0].length-l-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);s=this.options.hooks?.emStrongMask?.call({lexer:this},s)??s;let i=!1,c="";for(;e;){i||(c=""),i=!1;let a;if(this.options.extensions?.inline?.some(o=>(a=o.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let o=r.at(-1);a.type==="text"&&o?.type==="text"?(o.raw+=a.raw,o.text+=a.text):r.push(a);continue}if(a=this.tokenizer.emStrong(e,s,c)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),r.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),r.push(a);continue}let h=e;if(this.options.extensions?.startInline){let o=1/0,u=e.slice(1),p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},u),typeof p=="number"&&p>=0&&(o=Math.min(o,p))}),o<1/0&&o>=0&&(h=e.substring(0,o+1))}if(a=this.tokenizer.inlineText(h)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(c=a.raw.slice(-1)),i=!0;let o=r.at(-1);o?.type==="text"?(o.raw+=a.raw,o.text+=a.text):r.push(a);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return r}},ne=class{options;parser;constructor(t){this.options=t||q}space(t){return""}code({text:t,lang:e,escaped:r}){let s=(e||"").match(x.notSpaceStart)?.[0],n=t.replace(x.endingNewline,"")+`
`;return s?'<pre><code class="language-'+$(s)+'">'+(r?n:$(n,!0))+`</code></pre>
`:"<pre><code>"+(r?n:$(n,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,r=t.start,s="";for(let i=0;i<t.items.length;i++){let c=t.items[i];s+=this.listitem(c)}let n=e?"ol":"ul",l=e&&r!==1?' start="'+r+'"':"";return"<"+n+l+`>
`+s+"</"+n+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let n=0;n<t.header.length;n++)r+=this.tablecell(t.header[n]);e+=this.tablerow({text:r});let s="";for(let n=0;n<t.rows.length;n++){let l=t.rows[n];r="";for(let i=0;i<l.length;i++)r+=this.tablecell(l[i]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${$(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){let s=this.parser.parseInline(r),n=Ae(t);if(n===null)return s;t=n;let l='<a href="'+t+'"';return e&&(l+=' title="'+$(e)+'"'),l+=">"+s+"</a>",l}image({href:t,title:e,text:r,tokens:s}){s&&(r=this.parser.parseInline(s,this.parser.textRenderer));let n=Ae(t);if(n===null)return $(r);t=n;let l=`<img src="${t}" alt="${r}"`;return e&&(l+=` title="${$(e)}"`),l+=">",l}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:$(t.text)}},ve=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},_=class pe{options;renderer;textRenderer;constructor(e){this.options=e||q,this.options.renderer=this.options.renderer||new ne,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ve}static parse(e,r){return new pe(r).parse(e)}static parseInline(e,r){return new pe(r).parseInline(e)}parse(e){let r="";for(let s=0;s<e.length;s++){let n=e[s];if(this.options.extensions?.renderers?.[n.type]){let i=n,c=this.options.extensions.renderers[i.type].call({parser:this},i);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(i.type)){r+=c||"";continue}}let l=n;switch(l.type){case"space":{r+=this.renderer.space(l);break}case"hr":{r+=this.renderer.hr(l);break}case"heading":{r+=this.renderer.heading(l);break}case"code":{r+=this.renderer.code(l);break}case"table":{r+=this.renderer.table(l);break}case"blockquote":{r+=this.renderer.blockquote(l);break}case"list":{r+=this.renderer.list(l);break}case"checkbox":{r+=this.renderer.checkbox(l);break}case"html":{r+=this.renderer.html(l);break}case"def":{r+=this.renderer.def(l);break}case"paragraph":{r+=this.renderer.paragraph(l);break}case"text":{r+=this.renderer.text(l);break}default:{let i='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}parseInline(e,r=this.renderer){let s="";for(let n=0;n<e.length;n++){let l=e[n];if(this.options.extensions?.renderers?.[l.type]){let c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){s+=c||"";continue}}let i=l;switch(i.type){case"escape":{s+=r.text(i);break}case"html":{s+=r.html(i);break}case"link":{s+=r.link(i);break}case"image":{s+=r.image(i);break}case"checkbox":{s+=r.checkbox(i);break}case"strong":{s+=r.strong(i);break}case"em":{s+=r.em(i);break}case"codespan":{s+=r.codespan(i);break}case"br":{s+=r.br(i);break}case"del":{s+=r.del(i);break}case"text":{s+=r.text(i);break}default:{let c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}},F=class{options;block;constructor(t){this.options=t||q}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?T.lex:T.lexInline}provideParser(){return this.block?_.parse:_.parseInline}},wn=class{defaults=ge();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_;Renderer=ne;TextRenderer=ve;Lexer=T;Tokenizer=te;Hooks=F;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(let s of t)switch(r=r.concat(e.call(this,s)),s.type){case"table":{let n=s;for(let l of n.header)r=r.concat(this.walkTokens(l.tokens,e));for(let l of n.rows)for(let i of l)r=r.concat(this.walkTokens(i.tokens,e));break}case"list":{let n=s;r=r.concat(this.walkTokens(n.items,e));break}default:{let n=s;this.defaults.extensions?.childTokens?.[n.type]?this.defaults.extensions.childTokens[n.type].forEach(l=>{let i=n[l].flat(1/0);r=r.concat(this.walkTokens(i,e))}):n.tokens&&(r=r.concat(this.walkTokens(n.tokens,e)))}}return r}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let l=e.renderers[n.name];l?e.renderers[n.name]=function(...i){let c=n.renderer.apply(this,i);return c===!1&&(c=l.apply(this,i)),c}:e.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=e[n.level];l?l.unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),s.extensions=e),r.renderer){let n=this.defaults.renderer||new ne(this.defaults);for(let l in r.renderer){if(!(l in n))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let i=l,c=r.renderer[i],a=n[i];n[i]=(...h)=>{let o=c.apply(n,h);return o===!1&&(o=a.apply(n,h)),o||""}}s.renderer=n}if(r.tokenizer){let n=this.defaults.tokenizer||new te(this.defaults);for(let l in r.tokenizer){if(!(l in n))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let i=l,c=r.tokenizer[i],a=n[i];n[i]=(...h)=>{let o=c.apply(n,h);return o===!1&&(o=a.apply(n,h)),o}}s.tokenizer=n}if(r.hooks){let n=this.defaults.hooks||new F;for(let l in r.hooks){if(!(l in n))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let i=l,c=r.hooks[i],a=n[i];F.passThroughHooks.has(l)?n[i]=h=>{if(this.defaults.async&&F.passThroughHooksRespectAsync.has(l))return(async()=>{let u=await c.call(n,h);return a.call(n,u)})();let o=c.call(n,h);return a.call(n,o)}:n[i]=(...h)=>{if(this.defaults.async)return(async()=>{let u=await c.apply(n,h);return u===!1&&(u=await a.apply(n,h)),u})();let o=c.apply(n,h);return o===!1&&(o=a.apply(n,h)),o}}s.hooks=n}if(r.walkTokens){let n=this.defaults.walkTokens,l=r.walkTokens;s.walkTokens=function(i){let c=[];return c.push(l.call(this,i)),n&&(c=c.concat(n.call(this,i))),c}}this.defaults={...this.defaults,...s}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return T.lex(t,e??this.defaults)}parser(t,e){return _.parse(t,e??this.defaults)}parseMarkdown(t){return(e,r)=>{let s={...r},n={...this.defaults,...s},l=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&s.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(n.hooks&&(n.hooks.options=n,n.hooks.block=t),n.async)return(async()=>{let i=n.hooks?await n.hooks.preprocess(e):e,c=await(n.hooks?await n.hooks.provideLexer():t?T.lex:T.lexInline)(i,n),a=n.hooks?await n.hooks.processAllTokens(c):c;n.walkTokens&&await Promise.all(this.walkTokens(a,n.walkTokens));let h=await(n.hooks?await n.hooks.provideParser():t?_.parse:_.parseInline)(a,n);return n.hooks?await n.hooks.postprocess(h):h})().catch(l);try{n.hooks&&(e=n.hooks.preprocess(e));let i=(n.hooks?n.hooks.provideLexer():t?T.lex:T.lexInline)(e,n);n.hooks&&(i=n.hooks.processAllTokens(i)),n.walkTokens&&this.walkTokens(i,n.walkTokens);let c=(n.hooks?n.hooks.provideParser():t?_.parse:_.parseInline)(i,n);return n.hooks&&(c=n.hooks.postprocess(c)),c}catch(i){return l(i)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let s="<p>An error occurred:</p><pre>"+$(r.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(r);throw r}}},M=new wn;function f(t,e){return M.parse(t,e)}f.options=f.setOptions=function(t){return M.setOptions(t),f.defaults=M.defaults,He(f.defaults),f};f.getDefaults=ge;f.defaults=q;f.use=function(...t){return M.use(...t),f.defaults=M.defaults,He(f.defaults),f};f.walkTokens=function(t,e){return M.walkTokens(t,e)};f.parseInline=M.parseInline;f.Parser=_;f.parser=_.parse;f.Renderer=ne;f.TextRenderer=ve;f.Lexer=T;f.lexer=T.lex;f.Tokenizer=te;f.Hooks=F;f.parse=f;f.options;f.setOptions;f.use;f.walkTokens;f.parseInline;_.parse;T.lex;const xn=Object.assign({"../../posts/lab-01.md":kt,"../../posts/lab-02.md":yt,"../../posts/lecture-01.md":wt,"../../posts/project-01.md":xt,"../../posts/tutorial-01.md":vt,"../../posts/tutorial-02.md":Tt}),vn=Object.assign({"../../slides/Locomotion Techniques2_page-0001.jpg":_t,"../../slides/Locomotion Techniques2_page-0002.jpg":St,"../../slides/Locomotion Techniques2_page-0003.jpg":Rt,"../../slides/Locomotion Techniques2_page-0004.jpg":$t,"../../slides/Locomotion Techniques2_page-0005.jpg":Lt,"../../slides/Locomotion Techniques2_page-0006.jpg":Pt,"../../slides/Locomotion Techniques2_page-0007.jpg":Et,"../../slides/Locomotion Techniques2_page-0008.jpg":At,"../../slides/Locomotion Techniques2_page-0009.jpg":It,"../../slides/Locomotion Techniques2_page-0010.jpg":zt,"../../slides/Locomotion Techniques2_page-0011.jpg":Ct,"../../slides/Locomotion Techniques2_page-0012.jpg":jt,"../../slides/Locomotion Techniques2_page-0013.jpg":Mt}),Tn={slides:Object.entries(vn).sort(([t],[e])=>t.localeCompare(e)).map(([,t])=>t)};let ae=0;const de=document.getElementById("blog-view"),_n=document.getElementById("back-button"),oe=document.querySelector(".blog-content"),Sn=document.getElementById("blog-title"),Rn=document.getElementById("blog-meta"),$n=document.getElementById("blog-image"),O=document.getElementById("blog-body"),Ce=document.getElementById("viewport"),Q=document.getElementById("minimap");function Ln(){window.addEventListener("hashchange",je),_n.addEventListener("click",()=>{window.location.hash=""}),je()}function Pn(){return!de.classList.contains("hidden")}function je(){bt();const t=window.location.hash.substring(1),e=D.find(r=>r.slug===t);if(e){ae=window.scrollY,de.classList.remove("hidden"),Ce.style.opacity="0",Q&&(Q.style.display="none"),document.body.style.overflow="hidden",Sn.textContent=e.title,Rn.textContent=e.meta+" | "+e.tags.join(", "),$n.style.display="none",oe.classList.remove("is-slideshow");const r=e.slides?Tn[e.slides]:null;if(r&&r.length>0)oe.classList.add("is-slideshow"),En(r,e.title);else{const s=`../../posts/${e.slug}.md`,n=xn[s];n?O.innerHTML=f.parse(n):e.body.length<50||e.body==="..."||e.body==="--"?O.innerHTML=`
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                    <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
                `:O.textContent=e.body}}else de.classList.add("hidden"),Ce.style.opacity="1",Q&&(Q.style.display="block"),document.body.style.overflow="",oe.classList.remove("is-slideshow"),ae>0&&window.scrollTo(0,ae)}function En(t,e){const r=t.length;if(r===0){O.innerHTML="<p>No slides available.</p>";return}O.innerHTML=`
        <div class="slideshow" data-slideshow>
            <button class="slide-nav slide-prev" type="button" aria-label="Previous slide">&larr;</button>
            <img class="slide-image" src="${t[0]}" alt="${e} slide 1">
            <button class="slide-nav slide-next" type="button" aria-label="Next slide">&rarr;</button>
            <div class="slide-counter">1 / ${r}</div>
        </div>
    `;const s=O.querySelector("[data-slideshow]"),n=s.querySelector(".slide-prev"),l=s.querySelector(".slide-next"),i=s.querySelector(".slide-image"),c=s.querySelector(".slide-counter");let a=0;const h=o=>{a=(o+r)%r,i.src=t[a],i.alt=`${e} slide ${a+1}`,c.textContent=`${a+1} / ${r}`};n.addEventListener("click",()=>h(a-1)),l.addEventListener("click",()=>h(a+1))}let Ke=-A,R=-A,Me=0,Je=0,et=0,tt=0,W=0,nt=0,V=0,qe=!1;const An=document.getElementById("scene"),v=document.getElementById("hero"),B=document.getElementById("scroll-hint"),K=document.getElementById("intro-dim"),j=document.getElementById("minimap"),Be=j?j.getContext("2d"):null,De=document.getElementById("cursor-dot"),Oe=document.getElementById("cursor-ring"),In=window.matchMedia("(prefers-reduced-motion: reduce)").matches;let G=!In,rt=0,zn=1100,N=null;function Cn(t,e){tt=t,nt=e}function jn(t){document.querySelectorAll(".post-frame").forEach(r=>{const s=parseFloat(r.dataset.z),i=1-Math.abs(s+t)/2800,c=E(i,.15,1);r.style.opacity=c.toFixed(2)})}function J(){if(G||Pn())return;const t=document.body.scrollHeight-window.innerHeight;Me=t>0?window.scrollY/t:0,Ke=Me*(ce+A)-A}function Mn(t){const e=t.clientX/window.innerWidth-.5,r=t.clientY/window.innerHeight-.5;et=e*6,Je=-r*4,De&&(De.style.transform=`translate3d(${t.clientX}px, ${t.clientY}px, 0) translate(-50%, -50%)`),Oe&&(Oe.style.transform=`translate3d(${t.clientX}px, ${t.clientY}px, 0) translate(-50%, -50%)`)}function st(t=!1){if(!G)return;G=!1;const e=document.documentElement,r=document.body;r&&(r.classList.remove("intro-running"),r.classList.remove("intro-revealing")),N?(e.style.overflow=N.htmlOverflow,r&&(r.style.overflow=N.bodyOverflow),N=null):(e.style.overflow="",r&&(r.style.overflow="")),t&&v&&(v.style.opacity="1",v.style.transform="translate3d(0, 0, 0)"),J()}function qn(){if(!G){document.body&&document.body.classList.remove("intro-preload");return}const t=document.documentElement,e=document.body;if(!e)return;N={htmlOverflow:t.style.overflow,bodyOverflow:e.style.overflow},t.style.overflow="hidden",e.style.overflow="hidden",window.scrollTo(0,0),e.classList.remove("intro-preload"),e.classList.add("intro-running"),v&&(v.style.opacity="0",v.style.transform="translate3d(0, 0, 0)"),B&&(B.style.opacity="0"),rt=performance.now()+180,e.classList.add("intro-revealing");const r=()=>st(!0);window.addEventListener("keydown",r,{once:!0}),window.addEventListener("pointerdown",r,{once:!0})}function Bn(t,e){const r=document.getElementById("intersection-hint-3d"),s=document.getElementById("typed-text-3d"),n=document.getElementById("scroll-track");n.style.height=`${Math.max(520,D.length*140)}vh`,window.addEventListener("scroll",J,{passive:!0}),window.addEventListener("pointermove",Mn),window.addEventListener("resize",J),document.addEventListener("mousedown",()=>document.body.classList.add("clicking")),document.addEventListener("mouseup",()=>document.body.classList.remove("clicking")),document.addEventListener("mouseover",i=>{i.target.closest("a, button, .post-frame, input, select, textarea")?document.body.classList.add("hovering"):document.body.classList.remove("hovering")}),j&&(j.width=400,j.height=300);function l(){if(R+=(Ke-R)*.08,W+=(tt-W)*.08,V+=(nt-V)*.08,An.style.transform=`translate3d(${-V}px, 0, ${R}px) rotateX(${Je}deg) rotateY(${et+W}deg)`,jn(R),G){const a=performance.now(),h=E((a-rt)/zn,0,1),o=mt(h);v&&(v.style.opacity=o.toFixed(2),v.style.transform="translate3d(0, 0, 0)"),B&&(B.style.opacity=E(o*.9,0,.9).toFixed(2)),K&&(K.style.opacity=E(.25*(1-o),0,.25).toFixed(2)),h>=1&&st(!1),$e(Be,j,t,e,D,R,V,W),requestAnimationFrame(l);return}!qe&&R>=-500&&R<=500&&(qe=!0,r.classList.add("visible"),ft("> CLICK ON A TRACK: Continue scrolling to see more.",s,60));const i=E((R+A)/A,0,1),c=E(1-i*2,0,1);if(v&&(v.style.opacity=c.toFixed(2),v.style.transform=`translate3d(0, ${i*-50}px, 0)`),B&&(B.style.opacity=E(c*.9,0,.9).toFixed(2)),K){const a=E(.55*(1-i),0,.55);K.style.opacity=a.toFixed(2)}$e(Be,j,t,e,D,R,V,W),requestAnimationFrame(l)}qn(),J(),l()}const{mapPoints:Dn,mapBounds:On}=gt(Cn);Ln();Bn(Dn,On);
